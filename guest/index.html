<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../common/image/logo.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../common/fontawesome/css/all.css">
    <link rel="stylesheet" href="../common/css/base.css">
    <link rel="stylesheet" href="../common/css/grid.css">
    <link rel="stylesheet" href="../common/css/style.css">
    <link rel="stylesheet" href="./assets/css/header.css">
    <link rel="stylesheet" href="./assets/css/body.css">
    <link rel="stylesheet" href="./assets/css/footer.css">
    <link rel="stylesheet" href="./assets/css/responsive.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Writing - Trang chủ</title>
</head>
<body onload="checkToken()">
    <div id="app-content">
        <div id="app-header">
            <div class="grid wide col">
                <div class="header-navbar row no-gutters">
                    <div class="navbar_element row no-gutters">
                        <div class="navbar-logo">
                            <a href="#" class="navbar-logo_link">
                                <img src="../common/image/logo.png" alt="writing">
                            </a>
                        </div>
                        <div class="navbar-about">
                            <a href="#" class="about_link">Về chúng tôi</a>
                        </div>
                    </div>
                    <div class="navbar_element navbar-search row no-gutters">
                        <i class="navbar_back-icon fa-solid fa-arrow-left" style="display: none;"></i>
                        <input class="navbar-search_type" type="search" placeholder="Nhập nội dung tìm kiếm">
                        <i class="search_icon fa-solid fa-magnifying-glass"></i>
                    </div> 
                    <div class="navbar_element row no-gutters">
                        <div class="navbar-signin sign_btn">
                            <span class="navbar-signin_btn sign_in-btn">Đăng nhập</span>
                        </div>
                        <div class="navbar-signup sign_btn">
                            <span class="navbar-signup_btn sign_up-btn">Đăng ký</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="app-body">
            <div class="app-slider">
                <div class="grid">
                    <div class="slider-item">
                        <div class="slider-item_image" style="background-image: url(./assets/image/slider.jpg);">
                        </div>
                        <div class="slider-item_content">
                            <h1 class="slider_slogan">Vài ba câu chuyện,
                                vài ba góc nhìn...
                            </h1>
                            <p class="slider_description">
                                Nơi để viết, chia sẻ những quan điểm, những câu chuyện trong cuộc sống và đó cũng có thể là những trang nhật ký!
                            </p>
                            <span class="slider-signin sign_in-btn">Tham gia ngay</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="app-content">
                <div class="grid wide col">
                    <div class="content-title">
                        <span>BÀI VIẾT ĐÃ GHIM</span>
                    </div>
                    <div class="content-posts_pin post_list">
                        
                    </div>
                </div>
                
                <div class="content-posts_news">
                    <div class="grid wide col">
                        <div class="content-title">
                            <span>MỚI NHẤT</span>
                        </div>
                        <div class="content-posts post_list row">
                            
                        </div> 
                    </div>
                    
                </div>
                
                <div class="content-continute">
                    <span class="content-continute_text">
                        <span onclick="toLogin()" class="content-continute_signin sign_in-btn">
                            Đăng nhập
                        </span>
                        để xem thêm nội dung...
                    </span>
                </div>
            </div>
        </div>
        <div id="app-footer">
            <div class="footer-content">
                <div class="grid wide col">
                    <div class="footer-heading row no-gutters">
                        <div class="footer-logo l-6 m-6">
                            <a href="#" class="footer-logo_link">
                                <img src="../common/image/logo.png" alt="Writing">
                            </a>
                        </div>
                        <div class="footer-rules l-6 m-6">
                            <a href="#">NGUYÊN TẮC CỘNG ĐỒNG</a>
                        </div>
                    </div>
                    <div class="footer-body row no-gutters">
                        <div class="footer-description l-6 m-6">
                            <p>Project cá nhân chuẩn bị cho xin việc thực tập</p><br>
                            <h3>Mô hình: RESTful API</h3><br>
                            <h3>Công nghệ sử dụng</h3>
                            <p>Backend: Java (Spring boot), JWT Authentication</p>
                            <p>Database: MySQL</p>
                            <p>Frontend: HTML, CSS, Javascript, CKeditor library</p>
                            <p>Deploy: AWS</p>
                        </div>
                        <div class="footer-contact l-6 m-6">
                            <ul class="footer-contact_list">
                                <li class="footer-contact_item">
                                    <a href="mailto:cuong.fithau@gmail.com" class="footer-contact_link">
                                        <i class="fa-solid fa-envelope"></i>
                                        <p>cuong.fithau@gmail.com</p>
                                    </a>
                                </li>
                                <li class="footer-contact_item">
                                    <a href="tel:0865235802" class="footer-contact_link">
                                        <i class="fa-solid fa-phone"></i>
                                        <p>0865235802</p>
                                    </a>
                                </li>
                                <li class="footer-contact_item">
                                    <a href="https://github.com/cuonvc" class="footer-contact_link">
                                        <i class="fa-brands fa-github"></i>
                                        <p>cuonvc</p>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer-copyright">
                        <h3>&copy; Copyright 2022</h3>
                        <p>Bản quyền thuộc về Cuong Nguyen</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="to-top">
            <div class="to-top_btn" onclick="toTheTop()">
                <i class="fa-solid fa-angle-up"></i>
            </div>
        </div>
    </div>

    <div class="modal" style="display: none;">
        <div class="js-modal_container">
            <div class="modal-content_login modal-content">
                <div class="modal_close">
                    <i class="modal_close_submit fa-solid fa-xmark"></i>
                </div>
                <div class="modal-content_header">
                    <div class="modal-content_logo">
                        <img src="../common/image/logo.png" alt="logo">
                    </div>
                    <div class="modal-content_title">
                        <h1>Đăng nhập</h1>
                    </div>
                </div>
                <div class="modal-content_body">
                    <div class="modal-content_type">
                        <span>Đăng nhập với Email</span>
                    </div>
                    <div class="modal-content_input">
                        <input id="input_email_log" class="content_input__email" type="text" placeholder="Tên đăng nhập hoặc email">
                        <input id="input_password_log" class="content_input__password" type="password" placeholder="Mật khẩu đăng nhập">
                        <span type="submit" id="modal-submit_login" class="content_submit__btn">Đăng nhập</span>
                    </div>
                    <div class="modal-content-to_regiser">
                        <p>Bạn chưa có tài khoản?
                            <span class="modal_to-register sign_up-btn">Đăng ký</span>
                        </p>
                    </div>
                    <div class="modal-content_forget__pass">
                        <span class="forget_pass__submit forget_pass-btn">Quên mật khẩu?</span>
                    </div>
                </div>
            </div>
            <div class="modal-content_register modal-content" style="display: none;">
                <div class="modal_close">
                    <i class="modal_close_submit fa-solid fa-xmark"></i>
                </div>
                <div class="modal_back">
                    <i class="modal_back_submit fa-solid fa-angle-left"></i>
                </div>
                <div class="modal-content_header">
                    <div class="modal-content_logo">
                        <img src="../common/image/logo.png" alt="logo">
                    </div>
                    <div class="modal-content_title">
                        <h1>Đăng ký tài khoản</h1>
                    </div>
                </div>
                <div class="modal-content_body">
                    <div class="modal-content_type">
                        <span>Đăng ký với Email</span>
                    </div>
                    <div class="modal-content_input">
                        <div class="modal-content_input__name">
                            <input id="input_last-name_re" class="content_input__name" type="text" placeholder="Họ">
                            <input id="input_first-name-re" class="content_input__name" type="text" placeholder="Tên">
                        </div>
                        <input id="input_username_re" class="content_input__username" type="text" placeholder="Tên đăng nhập">
                        <input id="input_email_re" class="content_input__email" type="email" placeholder="Địa chỉ email">
                        <input id="input_password_re" class="content_input__password" type="password" placeholder="Nhập mật khẩu">
                        <input id="input_re-password_re" class="content_input__password" type="password" placeholder="Nhập lại mật khẩu">
                        <span id="modal-submit_re" class="content_submit__btn">Tạo tài khoản</span>
                    </div>
                    <div class="modal-content-to_login">
                        <p>Bạn đã có tài khoản?
                            <span class="modal_to-login sign_in-btn">Đăng nhập</span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="modal-content_forget-pass modal-content" style="display: none;">
                <div class="modal_close">
                    <i class="modal_close_submit fa-solid fa-xmark"></i>
                </div>
                <div class="modal_back">
                    <i class="modal_back_submit fa-solid fa-angle-left"></i>
                </div>
                <div class="modal-content_header">
                    <div class="modal-content_logo">
                        <img src="../common/image/logo.png" alt="logo">
                    </div>
                    <div class="modal-content_title">
                        <h1>Quên mật khẩu</h1>
                    </div>
                </div>
                <div class="modal-content_body">
                    <div class="modal-content_type">
                        <span>Nhập email tài khoản cần lấy lại mật khẩu</span>
                    </div>
                    <div class="modal-content_input">
                        <input class="content_input__email" type="email" placeholder="Địa chỉ email">
                        <span class="content_submit__btn">Lấy lại mật khẩu</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="../common/js/base.js"></script>
    <script src="./assets/js/main.js"></script>
    <script src="./assets/js/data.home.js"></script>
    <script>
        document.querySelector("#input_password_log").addEventListener("keypress", function(event) {
            if(event.key === "Enter") {
                $("#modal-submit_login").click();
            }
        });
        
        $("#modal-submit_login").click(function(){
        
            var name = $('#input_email_log').val();
            var password = $('#input_password_log').val();

            // console.log(name);
            // console.log(password);
            fetch('https://nvc-rest-blog.herokuapp.com/api/v1/auth/login', 
                {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body:JSON.stringify({ usernameOrEmail: name , password: password }),
                }
            )
            .then(res=>res.json())
            .then(data=>{
                var token = data.accessToken;
                if (token === undefined) {
                    alert("Email hoặc mật khẩu không chính xác!");
                } else {
                    localStorage.setItem("accessToken", token);
                    window.location.href = '/client/home.html';
                }
            });
        });
    </script>
</body>
<script>
    function checkToken() {
        if(localStorage.getItem("accessToken") !== null) {
            window.location.href = '/client/home.html';
        }
    }
</script>

</html>